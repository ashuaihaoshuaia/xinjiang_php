(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c1a8c17"],{"25c7":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("Card",[a("Row",{staticClass:"operation"},[a("span",[t._v("组件英文名：")]),a("Tooltip",{attrs:{content:"生成的请求api文件中将使用该组件名拼接，建议驼峰法命名",placement:"right",transfer:"","max-width":"250"}},[a("Input",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{clearable:""},model:{value:t.vueName,callback:function(e){t.vueName=e},expression:"vueName"}})],1),a("span",[t._v("表单显示：")]),a("Select",{staticStyle:{width:"150px","margin-right":"10px"},model:{value:t.rowNum,callback:function(e){t.rowNum=e},expression:"rowNum"}},[a("Option",{attrs:{value:"1"}},[t._v("一行一列")]),a("Option",{attrs:{value:"2"}},[t._v("一行两列")]),a("Option",{attrs:{value:"3"}},[t._v("一行三列")]),a("Option",{attrs:{value:"4"}},[t._v("一行四列")])],1),a("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:t.add}},[t._v("添加字段")]),a("Button",{attrs:{type:"warning",icon:"ios-construct"},on:{click:function(e){t.entityModal=!0}}},[t._v("读取字段")]),a("Button",{attrs:{loading:t.loading,type:"success",icon:"md-send"},on:{click:t.generate}},[t._v("生成代码")]),a("Button",{attrs:{icon:"md-trash"},on:{click:t.clear}},[t._v("清空全部")])],1),a("Row",[a("Alert",{attrs:{"show-icon":""}},[t._v(" 将生成的代码复制粘贴至前端新建的空白组件中，再做少许修改并自行调通接口即可 "),a("span",{staticClass:"preview",on:{click:t.preview}},[t._v("增删改表格预览")]),t._v(" 【若宽度不足wangEditor将自动转换为Quill富文本编辑器】 ")])],1),a("Row",[a("Table",{ref:"table",attrs:{border:"",columns:t.columns,data:t.data},scopedSlots:t._u([{key:"field",fn:function(e){var o=e.row;return[a("Input",{on:{"on-blur":function(e){return t.changeField(o,e)}},model:{value:o.field,callback:function(e){t.$set(o,"field",e)},expression:"row.field"}})]}},{key:"name",fn:function(e){var o=e.row;return[a("Input",{on:{"on-blur":function(e){return t.changeName(o,e)}},model:{value:o.name,callback:function(e){t.$set(o,"name",e)},expression:"row.name"}})]}},{key:"tableShow",fn:function(e){var o=e.row;return[a("i-switch",{on:{"on-change":function(e){return t.changeTableShow(o,e)}},model:{value:o.tableShow,callback:function(e){t.$set(o,"tableShow",e)},expression:"row.tableShow"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])]}},{key:"editable",fn:function(e){var o=e.row;return[a("i-switch",{on:{"on-change":function(e){return t.changeEditable(o,e)}},model:{value:o.editable,callback:function(e){t.$set(o,"editable",e)},expression:"row.editable"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])]}},{key:"type",fn:function(e){var o=e.row;return[a("Select",{attrs:{disabled:!o.editable,transfer:""},on:{"on-change":function(e){return t.changeType(o,e)}},model:{value:o.type,callback:function(e){t.$set(o,"type",e)},expression:"row.type"}},[a("Option",{attrs:{value:"text"}},[t._v("文本输入框")]),a("Option",{attrs:{value:"select"}},[t._v("选择下拉框")]),a("Option",{attrs:{value:"number"}},[t._v("数字输入框")]),a("Option",{attrs:{value:"date"}},[t._v("日期选择器")]),a("Option",{attrs:{value:"daterange"}},[t._v("日期范围选择器")]),a("Option",{attrs:{value:"upload"}},[t._v("图片上传输入组件")]),a("Option",{attrs:{value:"uploadThumb"}},[t._v("图片上传缩略图组件")]),a("Option",{attrs:{value:"switch"}},[t._v("Switch开关")]),a("Option",{attrs:{value:"radio"}},[t._v("Radio单选框")]),a("Option",{attrs:{value:"time"}},[t._v("时间选择器")]),a("Option",{attrs:{value:"area"}},[t._v("省市县级联")]),a("Option",{attrs:{value:"slider"}},[t._v("Slider滑块")]),a("Option",{attrs:{value:"quill"}},[t._v("富文本组件Quill")]),a("Option",{attrs:{value:"wangEditor"}},[t._v("富文本组件wangEditor")]),a("Option",{attrs:{value:"password"}},[t._v("密码强度提示输入组件")])],1)]}},{key:"validate",fn:function(e){var o=e.row;return[a("i-switch",{attrs:{disabled:!o.editable},on:{"on-change":function(e){return t.changeValidate(o,e)}},model:{value:o.validate,callback:function(e){t.$set(o,"validate",e)},expression:"row.validate"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])]}},{key:"searchable",fn:function(e){var o=e.row;return[a("i-switch",{on:{"on-change":function(e){return t.changeSearchable(o,e)}},model:{value:o.searchable,callback:function(e){t.$set(o,"searchable",e)},expression:"row.searchable"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])]}},{key:"searchType",fn:function(e){var o=e.row;return[a("Select",{attrs:{disabled:!o.searchable,transfer:""},on:{"on-change":function(e){return t.changeSearchType(o,e)}},model:{value:o.searchType,callback:function(e){t.$set(o,"searchType",e)},expression:"row.searchType"}},[a("Option",{attrs:{value:"text"}},[t._v("文本输入框")]),a("Option",{attrs:{value:"select"}},[t._v("选择下拉框")]),a("Option",{attrs:{value:"daterange",disabled:t.daterangeSearch}},[t._v("日期范围选择器")]),a("Option",{attrs:{value:"date"}},[t._v("日期选择器")]),a("Option",{attrs:{value:"area"}},[t._v("省市县级联")])],1)]}},{key:"sortable",fn:function(e){var o=e.row;return[a("i-switch",{on:{"on-change":function(e){return t.changeSortable(o,e)}},model:{value:o.sortable,callback:function(e){t.$set(o,"sortable",e)},expression:"row.sortable"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])]}},{key:"defaultSort",fn:function(e){var o=e.row;return[a("i-switch",{attrs:{disabled:(!o.sortable||t.defaultSort)&&!o.defaultSort||!o.sortable},on:{"on-change":function(e){return t.changeDefaultSort(o,e)}},model:{value:o.defaultSort,callback:function(e){t.$set(o,"defaultSort",e)},expression:"row.defaultSort"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])]}},{key:"defaultSortType",fn:function(e){var o=e.row;return[a("Select",{attrs:{disabled:!o.defaultSort||!o.sortable,transfer:""},on:{"on-change":function(e){return t.changeDefaultSortType(o,e)}},model:{value:o.defaultSortType,callback:function(e){t.$set(o,"defaultSortType",e)},expression:"row.defaultSortType"}},[a("Option",{attrs:{value:"desc"}},[t._v("倒序(大到小)")]),a("Option",{attrs:{value:"asc"}},[t._v("正序(小到大)")])],1)]}},{key:"action",fn:function(e){var o=e.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{size:"small"},on:{click:function(e){return t.edit(o)}}},[t._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.remove(o)}}},[t._v("删除")])]}}])})],1)],1),a("Modal",{attrs:{title:t.modalTitle,"mask-closable":!1,width:750},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[a("Form",{ref:"form",attrs:{model:t.form,"label-width":100,rules:t.formValidate,inline:""}},[a("FormItem",{attrs:{label:"字段英文名",prop:"field"}},[a("Tooltip",{attrs:{placement:"right",content:"与后端实体字段匹配"}},[a("Input",{staticStyle:{width:"245px"},model:{value:t.form.field,callback:function(e){t.$set(t.form,"field",e)},expression:"form.field"}})],1)],1),a("FormItem",{attrs:{label:"名称",prop:"name"}},[a("Input",{staticStyle:{width:"245px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("FormItem",{staticStyle:{width:"345px"},attrs:{label:"排序值",prop:"sortOrder"}},[a("InputNumber",{model:{value:t.form.sortOrder,callback:function(e){t.$set(t.form,"sortOrder",e)},expression:"form.sortOrder"}})],1),a("FormItem",{staticStyle:{width:"345px"},attrs:{label:"表格中显示",prop:"tableShow"}},[a("i-switch",{model:{value:t.form.tableShow,callback:function(e){t.$set(t.form,"tableShow",e)},expression:"form.tableShow"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1),a("FormItem",{staticStyle:{width:"345px"},attrs:{label:"可添加编辑",prop:"editable"}},[a("i-switch",{model:{value:t.form.editable,callback:function(e){t.$set(t.form,"editable",e)},expression:"form.editable"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.form.editable,expression:"form.editable"}],attrs:{label:"字段表单类型",prop:"type"}},[a("Select",{staticStyle:{width:"245px"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("Option",{attrs:{value:"text"}},[t._v("文本输入框")]),a("Option",{attrs:{value:"select"}},[t._v("选择下拉框")]),a("Option",{attrs:{value:"number"}},[t._v("数字输入框")]),a("Option",{attrs:{value:"date"}},[t._v("日期选择器")]),a("Option",{attrs:{value:"daterange"}},[t._v("日期范围选择器")]),a("Option",{attrs:{value:"upload"}},[t._v("图片上传输入组件")]),a("Option",{attrs:{value:"uploadThumb"}},[t._v("图片上传缩略图组件")]),a("Option",{attrs:{value:"switch"}},[t._v("Switch开关")]),a("Option",{attrs:{value:"radio"}},[t._v("Radio单选框")]),a("Option",{attrs:{value:"time"}},[t._v("时间选择器")]),a("Option",{attrs:{value:"area"}},[t._v("省市县级联")]),a("Option",{attrs:{value:"slider"}},[t._v("Slider滑块")]),a("Option",{attrs:{value:"quill"}},[t._v("富文本组件Quill")]),a("Option",{attrs:{value:"wangEditor"}},[t._v("富文本组件wangEditor")]),a("Option",{attrs:{value:"password"}},[t._v("密码强度提示输入组件")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"area"==t.form.type,expression:"form.type=='area'"}],attrs:{label:"显示级别",prop:"level"}},[a("Select",{staticStyle:{width:"245px"},model:{value:t.form.level,callback:function(e){t.$set(t.form,"level",e)},expression:"form.level"}},[a("Option",{attrs:{value:"0"}},[t._v("仅显示省")]),a("Option",{attrs:{value:"1"}},[t._v("显示省和县")]),a("Option",{attrs:{value:"2"}},[t._v("显示省市县")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.form.editable,expression:"form.editable"}],staticStyle:{width:"345px"},attrs:{label:"表单非空验证",prop:"validate"}},[a("i-switch",{model:{value:t.form.validate,callback:function(e){t.$set(t.form,"validate",e)},expression:"form.validate"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1),a("FormItem",{staticStyle:{width:"345px"},attrs:{label:"可搜索",prop:"searchable"}},[a("i-switch",{model:{value:t.form.searchable,callback:function(e){t.$set(t.form,"searchable",e)},expression:"form.searchable"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.form.searchable,expression:"form.searchable"}],attrs:{label:"搜索框类型",prop:"searchType"}},[a("Select",{staticStyle:{width:"245px"},model:{value:t.form.searchType,callback:function(e){t.$set(t.form,"searchType",e)},expression:"form.searchType"}},[a("Option",{attrs:{value:"text"}},[t._v("文本输入框")]),a("Option",{attrs:{value:"select"}},[t._v("选择下拉框")]),a("Option",{attrs:{value:"daterange"}},[t._v("日期范围选择器")]),a("Option",{attrs:{value:"date"}},[t._v("日期选择器")]),a("Option",{attrs:{value:"area"}},[t._v("省市县级联")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"area"==t.form.searchType,expression:"form.searchType=='area'"}],attrs:{label:"显示级别",prop:"searchLevel"}},[a("Select",{staticStyle:{width:"245px"},model:{value:t.form.searchLevel,callback:function(e){t.$set(t.form,"searchLevel",e)},expression:"form.searchLevel"}},[a("Option",{attrs:{value:"0"}},[t._v("仅显示省")]),a("Option",{attrs:{value:"1"}},[t._v("显示省和县")]),a("Option",{attrs:{value:"2"}},[t._v("显示省市县")])],1)],1),a("FormItem",{staticStyle:{width:"345px"},attrs:{label:"可排序",prop:"sortable"}},[a("i-switch",{model:{value:t.form.sortable,callback:function(e){t.$set(t.form,"sortable",e)},expression:"form.sortable"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.form.sortable,expression:"form.sortable"}],staticStyle:{width:"345px"},attrs:{label:"默认排序",prop:"defaultSort"}},[a("i-switch",{model:{value:t.form.defaultSort,callback:function(e){t.$set(t.form,"defaultSort",e)},expression:"form.defaultSort"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.form.defaultSort&&t.form.sortable,expression:"form.defaultSort&&form.sortable"}],attrs:{label:"默认排序方式",prop:"defaultSortType"}},[a("Select",{staticStyle:{width:"245px"},model:{value:t.form.defaultSortType,callback:function(e){t.$set(t.form,"defaultSortType",e)},expression:"form.defaultSortType"}},[a("Option",{attrs:{value:"desc"}},[t._v("倒序(大到小)")]),a("Option",{attrs:{value:"asc"}},[t._v("正序(小到大)")])],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text"},on:{click:function(e){t.modalVisible=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("提交")])],1)],1),a("Modal",{attrs:{title:"生成代码",width:900,fullscreen:t.full,styles:t.full?{}:t.modalStyle},model:{value:t.codeModal,callback:function(e){t.codeModal=e},expression:"codeModal"}},[a("RadioGroup",{staticStyle:{"margin-bottom":"15px"},on:{"on-change":t.changeRadio},model:{value:t.resultType,callback:function(e){t.resultType=e},expression:"resultType"}},[a("Radio",{attrs:{label:"componentApi",border:""}},[t._v("动态组件版(含API)")]),a("Radio",{attrs:{label:"component",border:""}},[t._v("动态组件版(模拟请求)")]),a("Radio",{attrs:{label:"singleApi",border:""}},[t._v("Modal弹框版(含API)")]),a("Radio",{attrs:{label:"single",border:""}},[t._v("Modal弹框版(模拟请求)")])],1),a("Tabs",{attrs:{type:"card"},on:{"on-click":t.changeCode},model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},[a("TabPane",{attrs:{name:"index.vue",label:"index.vue"}}),"componentApi"==t.resultType||"component"==t.resultType?a("TabPane",{attrs:{name:"add.vue",label:"add.vue"}}):t._e(),"componentApi"==t.resultType||"component"==t.resultType?a("TabPane",{attrs:{name:"edit.vue",label:"edit.vue"}}):t._e(),"componentApi"==t.resultType||"singleApi"==t.resultType?a("TabPane",{attrs:{name:"api.js",label:"api.js"}}):t._e()],1),t.full?t._e():a("Input",{staticStyle:{"max-height":"60vh",overflow:"auto"},attrs:{type:"textarea",autosize:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t.full?a("Input",{attrs:{rows:32,type:"textarea"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}):t._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{icon:"md-expand"},on:{click:function(e){t.full=!t.full}}},[t._v("全屏开/关")]),a("Button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.code,expression:"code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],attrs:{type:"primary",icon:"md-copy"}},[t._v("复制代码")])],1)],1),a("Modal",{attrs:{title:"自动读取字段",width:700,fullscreen:t.fullEntity},model:{value:t.entityModal,callback:function(e){t.entityModal=e},expression:"entityModal"}},[a("Alert",{attrs:{"show-icon":""}},[t._v("输入实体类的引用路径，将自动读取其字段生成所需JSON配置数据，免去手动配置添加字段")]),a("Form",{ref:"entityForm",attrs:{model:t.entityForm,"label-width":130,rules:t.entityFormValidate}},[a("FormItem",{attrs:{label:"实体类引用路径",prop:"path"}},[a("Row",{attrs:{type:"flex",justify:"space-between"}},[a("Input",{staticStyle:{width:"410px"},attrs:{placeholder:"例如：cn.exrick.xboot.modules.base.entity.User",clearable:""},model:{value:t.entityForm.path,callback:function(e){t.$set(t.entityForm,"path",e)},expression:"entityForm.path"}}),a("Button",{attrs:{type:"warning",icon:"md-play"},on:{click:t.generateEntityData}},[t._v("读取字段")])],1)],1)],1),t.fullEntity?t._e():a("Input",{staticStyle:{"max-height":"50vh",overflow:"auto"},attrs:{type:"textarea",autosize:"",placeholder:"生成结果"},model:{value:t.entityData,callback:function(e){t.entityData=e},expression:"entityData"}}),t.fullEntity?a("Input",{attrs:{rows:32,type:"textarea"},model:{value:t.entityData,callback:function(e){t.entityData=e},expression:"entityData"}}):t._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{icon:"md-expand"},on:{click:function(e){t.fullEntity=!t.fullEntity}}},[t._v("全屏开/关")]),a("Button",{attrs:{type:"primary",icon:"md-checkmark-circle-outline"},on:{click:t.submitEntityData}},[t._v("确认更新字段值")])],1)],1)],1)},r=[],s=a("365c"),l={name:"table-generator",data:function(){return{resultType:"componentApi",tabName:"index.vue",modalStyle:{top:"30px"},entityModal:!1,fullEntity:!1,entityData:"",entityForm:{path:""},loading:!1,code:"",vueName:"",rowNum:"1",full:!1,codeModal:!1,modalVisible:!1,modalType:0,modalTitle:"",form:{sortOrder:0,field:"",name:"",level:"2",tableShow:!0,editable:!0,type:"text",searchType:"text",searchLevel:"2",validate:!0,searchable:!1,sortable:!1,defaultSort:!1,defaultSortType:"desc"},formValidate:{field:[{required:!0,message:"不能为空",trigger:"blur"}],name:[{required:!0,message:"不能为空",trigger:"blur"}]},entityFormValidate:{path:[{required:!0,message:"不能为空",trigger:"blur"}]},columns:[{title:"排序",key:"sortOrder",sortType:"asc",sortable:!0,align:"center",minWidth:90},{title:"字段英文名",slot:"field",minWidth:150},{title:"名称",slot:"name",minWidth:150},{title:"表格中显示",slot:"tableShow",minWidth:110},{title:"可添加编辑",slot:"editable",minWidth:110},{title:"表单类型",slot:"type",minWidth:200},{title:"表单非空验证",slot:"validate",minWidth:125},{title:"可搜索",slot:"searchable",minWidth:100},{title:"搜索框类型",slot:"searchType",minWidth:160},{title:"可排序",slot:"sortable",minWidth:80},{title:"默认排序",slot:"defaultSort",minWidth:100},{title:"默认排序方式",slot:"defaultSortType",minWidth:150},{title:"操作",slot:"action",align:"center",fixed:"right",width:130}],data:[],defaultSort:!1,daterangeSearch:!1,result:{}}},methods:{init:function(){var t=this.getStore("tableData"),e=this.getStore("tableVueName"),a=(this.getStore("tableRowNum"),this.getStore("tableDefaultSort")),o=this.getStore("tableDaterangeSearch");t&&"undefined"!=t&&(this.data=JSON.parse(t)),e&&"undefined"!=e&&(this.vueName=e),a&&"undefined"!=a&&(this.defaultSort="true"==a),o&&"undefined"!=o&&(this.daterangeSearch="true"==o)},generateEntityData:function(){var t=this;this.$refs.entityForm.validate((function(e){e&&(console.log(t.entityForm.path),Object(s["kb"])({path:t.entityForm.path}).then((function(e){e.success&&(console.log(e),t.entityData=e.result)})))}))},submitEntityData:function(){if(this.entityData)try{var t=JSON.parse(this.entityData);this.data=t.data,this.entityModal=!1}catch(e){this.$Message.error("请确保JSON数据格式正确")}else this.$Message.warning("请先输入实体类引用路径生成JSON数据")},preview:function(){this.$router.push({name:"search-table"})},changeField:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);r.field=e.target.value,this.data.splice(t._index,1,r),this.save()},changeName:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);r.name=e.target.value,this.data.splice(t._index,1,r),this.save()},changeTableShow:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);r.tableShow=e,this.data.splice(t._index,1,r),this.save()},changeType:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);r.type=e,this.data.splice(t._index,1,r),this.save()},changeEditable:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);r.editable=e,this.data.splice(t._index,1,r),this.save()},changeValidate:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);r.validate=e,this.data.splice(t._index,1,r),this.save()},changeSearchable:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);r.searchable=e,this.data.splice(t._index,1,r),this.save()},changeSearchType:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);r.searchType=e,this.data.splice(t._index,1,r),this.daterangeSearch&&"daterange"!=e?this.daterangeSearch=!1:"daterange"==e&&(this.daterangeSearch=!0),this.save()},changeSortable:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);r.sortable=e,this.data.splice(t._index,1,r),this.save()},changeDefaultSort:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);this.defaultSort&&e?(this.$Message.warning("已设定了默认排序的字段，请勿设置多个"),r.defaultSort=!1):!this.defaultSort&&e?(r.defaultSort=!0,this.defaultSort=!0):this.defaultSort&&!e&&(r.defaultSort=!1,this.defaultSort=!1),this.data.splice(t._index,1,r),this.save()},changeDefaultSortType:function(t,e){for(var a in t)null==t[a]&&(t[a]="");var o=JSON.stringify(t),r=JSON.parse(o);r.defaultSortType=e,this.data.splice(t._index,1,r),this.save()},handleSubmit:function(){var t=this;this.$refs.form.validate((function(e){if(e){var a=t.form;for(var o in a)null==a[o]&&(a[o]="");var r=JSON.stringify(a),s=JSON.parse(r);if(t.defaultSort&&s.defaultSort)return void t.$Message.warning("已设定了默认排序的字段，请勿设置多个");if("wangEditor"==t.form.type||"quill"==t.form.type){var l=!1;if(t.data.forEach((function(t){"wangEditor"!=t.type&&"quill"!=t.type||(l=!0)})),l)return void t.$Message.warning("已添加了富文本组件，暂仅支持添加1个")}if(t.daterangeSearch&&"daterange"==s.searchType)return void t.$Message.warning("已设定了日期范围搜索的字段，日期范围搜索暂仅支持设定1个");0==t.modalType?(t.data.push(s),t.data=t.data):t.data.splice(a._index,1,s),s.defaultSort&&(t.defaultSort=!0),"daterange"==s.searchType&&(t.daterangeSearch=!0),t.save(),t.modalVisible=!1}}))},add:function(){this.modalType=0,this.modalTitle="添加字段",this.$refs.form.resetFields(),this.modalVisible=!0},edit:function(t){for(var e in this.modalType=1,this.modalTitle="编辑字段",t)null==t[e]&&(t[e]="");var a=JSON.stringify(t),o=JSON.parse(a);this.form=o,this.modalVisible=!0},remove:function(t){this.data.splice(t._index,1),this.save(),this.$Message.success("操作成功")},clear:function(){var t=this;this.$Modal.confirm({title:"确认清空",content:"您确认要清空所有数据 ?",onOk:function(){t.data=[],t.vueName="",t.rowNum="1",t.defaultSort=!1,t.daterangeSearch=!1,t.save(),t.$Message.success("操作成功")}})},generate:function(){var t=this;if(this.vueName){var e=0;this.data.forEach((function(t){"wangEditor"!=t.type&&"quill"!=t.type||e++})),e>1?this.$Message.warning("暂仅支持添加1种类别富文本组件，请勿添加多个"):(this.loading=!0,Object(s["bb"])(this.vueName,this.rowNum,this.data).then((function(e){t.loading=!1,e.success&&(t.result=e.result,t.changeCode(),t.codeModal=!0,t.save())})))}else this.$Message.warning("请输入组件名")},changeRadio:function(){this.tabName="index.vue",this.changeCode()},changeCode:function(){"componentApi"==this.resultType&&("index.vue"==this.tabName&&(this.code=this.result.componentApi),"add.vue"==this.tabName&&(this.code=this.result.addApi),"edit.vue"==this.tabName&&(this.code=this.result.editApi),"api.js"==this.tabName&&(this.code=this.result.api)),"component"==this.resultType&&("index.vue"==this.tabName&&(this.code=this.result.component),"add.vue"==this.tabName&&(this.code=this.result.add),"edit.vue"==this.tabName&&(this.code=this.result.edit)),"singleApi"==this.resultType&&("index.vue"==this.tabName&&(this.code=this.result.singleApi),"api.js"==this.tabName&&(this.code=this.result.api)),"single"==this.resultType&&(this.code=this.result.single)},onCopy:function(){this.$Message.success("复制成功")},onError:function(){this.$Message.warning("复制失败，请手动复制")},save:function(){this.setStore("tableData",JSON.stringify(this.data)),this.setStore("tableVueName",this.vueName),this.setStore("tableRowNum",this.rowNum),this.setStore("tableDefaultSort",this.defaultSort),this.setStore("tableDaterangeSearch",this.daterangeSearch)}},mounted:function(){this.init()}},i=l,n=(a("cda2"),a("2877")),c=Object(n["a"])(i,o,r,!1,null,null,null);e["default"]=c.exports},"89c9":function(t,e,a){},cda2:function(t,e,a){"use strict";a("89c9")}}]);